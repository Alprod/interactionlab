{% extends 'base.html.twig' %}

{% block title %}Profile | {{ app.user.fullName }}{% endblock %}

{% block body %}
	<div class='border-b border-b-gray-300/50 px-4 py-10 dark:border-gray-800'>
			<h1 class='text-gray-800 text-4xl font-extrabold sm:text-6xl dark:text-gray-200'>Dashboard</h1>
	</div>
	<div class="min-h-full flex">

		<div id='open_sidebar' class="block hidden pt-1 px-1 bg-gray-100 dark:bg-slate-600">
			<button type="button" class="ml-1 flex items-center justify-center h-10 w-10 rounded-full hover:outline-none hover:ring-2 hover:ring-inset hover:ring-gray-700 dark:hover:ring-gray-300">
				<span class="sr-only">Open sidebar</span>
				<!-- Heroicon name: outline/x -->
				<svg class="h-6 w-6 text-gray-700 dark:text-gray-100" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
				  <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12" />
				</svg>
			</button>
		</div>

		<div id='sideBar' class="relative flex-1 flex flex-col max-w-[38%] w-[38%] sm:max-w-[20%] sm:w-[20%] bg-gray-100 dark:bg-slate-600 dark:text-gray-100 transition duration-200 ease-in-out">

			<div class="absolute top-0 right-0 -mr-12 pt-1">
				<button id='close_sidebar' type="button" class="ml-1 flex items-center justify-center h-10 w-10 rounded-full lg:hidden hover:outline-none hover:ring-2 hover:ring-inset hover:ring-gray-700 dark:hover:ring-gray-300">
					<span class="sr-only">Close sidebar</span>
					<!-- Heroicon name: outline/x -->
					<svg class="h-6 w-6 text-gray-700 dark:text-gray-100" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
					</svg>
				</button>
			</div>

			<div id='sidebar_menu' class="flex flex-col flex-grow border-r border-gray-200 pt-5 pb-4 overflow-y-auto dark:border-gray-800">
				<div class="mt-5 flex-grow flex flex-col space-y-8">
					<a role='button' id='button_recap' class='text-md font-semibold px-3 py-3 mx-2 flex items-center sm:text-xl hover:bg-slate-300 focus:bg-slate-500 dark:hover:bg-slate-700 rounded-md'>
						<span class='flex-auto'>Recape</span>
					</a>
					<div>
						<a id='dropdown_button_sidebar_feedSend' role='button' class='text-md font-semibold px-3 py-2 mx-2 flex items-center sm:text-xl hover:bg-slate-300 dark:hover:bg-slate-700 rounded-md'>
							<span class='flex-auto'>Feedback envoyer</span>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="text-gray-400 mr-1 flex-shrink-0 h-6 w-6 sm:mr-3 dark:text-gray-100">
								<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
							</svg>
						</a>
						<div class='feedSendList flex flex-col hidden transition duration-200 ease-in-out'>
							<a role='button' id='all_send_click' class='btn-list-sidebar-profile'>Tous</a>
							<a role='button' id='send_15d_click' class='btn-list-sidebar-profile'>Ces 15 derniers jours</a>
							<a role='button' id='send_30d_click' class='btn-list-sidebar-profile'>Ces 30 derniers jours</a>
						</div>
					</div>
					<div>
						<a id='dropdown_button_sidebar_feedReceived' role='button' class='text-md font-semibold px-3 py-3 mx-2 flex items-center sm:text-xl hover:bg-slate-300 dark:hover:bg-slate-700 rounded-md'>
							<span class='flex-auto'>Feedback reçu</span>
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="text-gray-400 mr-1 flex-shrink-0 h-6 w-6 sm:mr-3 dark:text-gray-100">
								<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
							</svg>
						</a>
						<div class='feedReceivedList flex flex-col hidden transition duration-200 ease-in-out'>
							<a role='button' id='all_receive_click' class='btn-list-sidebar-profile'>Tous</a>
							<a role='button' id='receive_15d_click' class='btn-list-sidebar-profile'>Ces 15 derniers jours</a>
							<a role='button' id='receive_30d_click' class='btn-list-sidebar-profile'>Ces 30 derniers jours</a>
						</div>
					</div>

					<a role='button' href='{{ path('app_interactions') }}' class='text-md font-semibold px-3 py-3 mx-2 flex items-center sm:text-xl hover:bg-slate-300 dark:hover:bg-slate-700 rounded-md'>
						<span class='flex-auto'>Quitter</span>
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="text-gray-400 mr-3 flex-shrink-0 h-6 w-6 dark:text-gray-100">
							<path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9" />
						</svg>
					</a>

				</div>
			</div>
		</div>

		<div class="px-10 py-10 lg:py-12 lg:px-5 flex flex-col w-0 flex-1">

			<div id='block_recap' class='flex flex-row justify-around mb-5'>
				<div class='text-center'>
					<p class='text-gray-900 text-xl sm:text-6xl font-semibold dark:text-gray-300'>{{ userSubscribe }}</p>
					<p class='text-gray-900 dark:text-gray-300'>Participants</p>
				</div>
				<div class='text-center'>
					<p class='text-gray-900 text-xl sm:text-6xl font-semibold dark:text-gray-300'>{{ allIssues|length }}</p>
					<p class='text-gray-900 dark:text-gray-300'>FeedBacks</p>
				</div>
			</div>
			<div id='recap' class='flex flex-row justify-around mt-5'>
				<div class='text-center'>
					<p class='text-xl sm:text-6xl font-semibold dark:text-gray-300'>{{ allIssuesCurrentUser|length }}</p>
					<p class='text-gray-900 dark:text-gray-300'>FeedBacks Envoyés</p>
				</div>
				<div class='text-center'>
					<p class='text-xl sm:text-6xl font-semibold dark:text-gray-300'>{{ allReceivesCurrentUser|length }}</p>
					<p class='text-gray-900 dark:text-gray-300'>FeedBacks Reçus</p>
				</div>
			</div>

			<div id='block_feedSend' class='my-3'>
				<div id='all_feedSend' class='px-2 py-3 my-4 rounded-md hidden'>
					<div class='w-full'>
						<h2 class='text-2xl text-gray-900 font-extrabold tracking-tight sm:text-3xl dark:text-gray-300'>Tous vos feedbacks envoyés</h2>
						<div class='py-10'>
							{% if allIssuesCurrentUser|length >= 1 %}
							<ul role="list" class="mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 ">
								{% for allIssue in allIssuesCurrentUser %}
									{% include 'includes/_card_content_profile.html.twig' with { feedback: allIssue, fullname: allIssue.received.fullname } %}
								{% endfor %}
							</ul>
							{% else %}
								<div class='flex flex-col space-y-8 items-center justify-center'>
									<p class="text-gray-900 font-medium dark:text-gray-300">Désolé, mais depuis le début de l'XP, vous n'avez envoyé aucun feedback</p>
									<a href='{{ path('app_interactions') }}' class='btn-profile font-extrabold'>Démarrer</a>
								</div>
							{% endif %}
						</div>
					</div>
				</div>

				<div id='days_send_15' class='hidden px-2 py-3 my-4 rounded-md'>
					<div class='w-full'>
						<h2 class='text-2xl text-gray-900 font-extrabold tracking-tight sm:text-3xl dark:text-gray-300'>Vos feedbacks envoyés, ces 15 derniers jours</h2>
						<div class='py-10'>
							{% if issuesBetweenDate15|length >= 1 %}
							<ul role="list" class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 ">
								{% for issueBetweenDate in issuesBetweenDate15 %}
									{% include 'includes/_card_content_profile.html.twig' with { feedback: issueBetweenDate, fullname: issueBetweenDate.received.fullname } %}
								{% endfor %}
							</ul>
							{% else %}
								<div class='flex flex-col space-y-8 items-center justify-center'>
									<p class="text-gray-900 font-medium dark:text-gray-300">Désolé, mais durant ces 15 derniers jours, vous n'avez envoyé aucun feedback</p>
									<a href='{{ path('app_interactions') }}' class='btn-profile font-extrabold'>Démarrer</a>
								</div>
							{% endif %}
						</div>
					</div>
				</div>

				<div id='days_send_30' class='hidden px-2 py-3 my-4 rounded-md'>
					<div class='w-full'>
						<h2 class='text-2xl text-gray-900 font-extrabold tracking-tight sm:text-3xl dark:text-gray-300'>Vos feedbacks envoyés, ces 30 derniers jours</h2>
						<div class='py-10'>
							{% if issuesBetweenDate30|length >= 1 %}
							<ul role="list" class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 ">
									{% for issueBetweenDate30 in issuesBetweenDate30 %}
										{% include 'includes/_card_content_profile.html.twig' with { feedback: issueBetweenDate30, fullname: issueBetweenDate30.received.fullname } %}
									{% endfor %}
							</ul>
							{% else %}
								<div class='flex flex-col space-y-8 items-center justify-center'>
									<p class="text-gray-900 font-medium dark:text-gray-300">Désolé, mais durant ces 30 derniers jours, vous n'avez envoyé aucun feedback, ça commence à faire long là...</p>
									<a href='{{ path('app_interactions') }}' class='btn-red font-extrabold'>Démarrer</a>
								</div>
							{% endif %}
						</div>
					</div>
				</div>

			</div>

			<div id='block_feedReceived' class=''>
				<div id='all_feedReceived' class='hidden px-2 py-3 my-4 rounded-md'>
					<div class='w-full'>
						<h2 class='text-2xl text-gray-900 font-extrabold tracking-tight sm:text-3xl dark:text-gray-300'>Tous vos feedbacks reçus</h2>
						<div class='py-10'>
							{% if allReceivesCurrentUser|length >= 1 %}
							<ul role="list" class="mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 ">
								{% for allReceive in allReceivesCurrentUser %}
									{% include 'includes/_card_content_profile.html.twig' with { feedback: allReceive, fullname: allReceive.issue.fullname } %}
								{% endfor %}
							</ul>
							{% else %}
								<div class='flex flex-col space-y-8 items-center justify-center'>
									<p class="text-gray-900 font-medium dark:text-gray-300">Désolé, mais depuis le début de l'XP, vous n'avez reçu aucun feedback fait le savoir autour de vous</p>
								</div>
							{% endif %}
						</div>
					</div>
				</div>
				<div id='days_received_15' class='hidden px-2 py-3 my-4 rounded-md'>
					<h2 class='text-2xl text-gray-900 font-extrabold tracking-tight sm:text-3xl dark:text-gray-300'>Vos feedbacks reçus, ces 15 derniers jours</h2>
					<div class='w-full'>
						<div class='py-10'>
							{% if receivedsBetweenDate15|length >= 1 %}
							<ul role="list" class="mt-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 ">
									{% for receivedBetweenDate15 in receivedsBetweenDate15 %}
										{% include 'includes/_card_content_profile.html.twig' with { feedback: receivedBetweenDate15, fullname: receivedBetweenDate15.issue.fullname } %}
									{% endfor %}
							</ul>
							{% else %}
								<div class='flex flex-col space-y-8 items-center justify-center'>
									<p class="text-gray-900 font-medium dark:text-gray-300">Désolé, mais depuis ces 15 derniers jours, vous n'avez reçu aucun feedback...</p>
								</div>
							{% endif %}
						</div>
					</div>
				</div>
				<div id='days_received_30' class='hidden px-2 py-3 my-4 rounded-md'>
					<h2 class='text-2xl text-gray-900 font-extrabold tracking-tight sm:text-3xl dark:text-gray-300'>Vos feedbacks reçus, ces 30 derniers jours</h2>
					<div class='py-10'>
					{% if receivedsBetweenDate30|length >= 1 %}
					<ul role="list" class="mt-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4">
						{% for receivedBetweenDate30 in receivedsBetweenDate30 %}
							{% include 'includes/_card_content_profile.html.twig' with { feedback: receivedBetweenDate30, fullname: receivedBetweenDate30.issue.fullname } %}
					{% endfor %}
					</ul>
						{% else %}
						<div class='flex flex-col space-y-8 items-center justify-center'>
							<p class="text-gray-900 font-medium dark:text-gray-300">Désolé, mais depuis ces 30 derniers jours, vous n'avez reçu aucun feedback ça fait un beaucoup là...</p>
						</div>
					{% endif %}
				</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
{% block javascripts %}
	{{ parent() }}
	{{ encore_entry_script_tags('prof') }}
{% endblock %}
